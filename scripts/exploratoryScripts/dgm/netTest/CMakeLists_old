cmake_minimum_required (VERSION 3.1)
set(CMAKE_CXX_STANDARD 17)
# Sets
set(CMAKE_CONFIGURATION_TYPES "Debug;Release" CACHE STRING "" FORCE)
if(MSVC)
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /Zi /wd5040")
set(CMAKE_EXE_LINKER_FLAGS_RELEASE "${CMAKE_EXE_LINKER_FLAGS} /DEBUG /INCREMENTAL:NO /OPT:REF /OPT:ICF")
endif(MSVC)
set(EXECUTABLE_OUTPUT_PATH ${PROJECT_BINARY_DIR}/bin)

# Properties -> C/C++ -> General -> Additional Include Directories
include_directories(${PROJECT_SOURCE_DIR}/include
					${PROJECT_SOURCE_DIR}/modules
					${PROJECT_SOURCE_DIR}/3rdparty
					${OpenCV_INCLUDE_DIRS}
				)

# Properties -> Linker -> General -> Additional Library Directories
link_directories(${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
find_package(DGM 1.5 REQUIRED PATHS "~/research/pathwayLocalization/lib/DGM-v.1.7.0/build")
find_package(OpenCV REQUIRED PATHS "~/research/pathwayLocalization/lib/opencv-4.4.0/build")
# ================================================= DEMO 1D =================================================



add_definitions(-D_CRT_SECURE_NO_WARNINGS -D_SCL_SECURE_NO_WARNINGS)
add_executable(netFromFileTest "netFromFileTest.cpp" "netFromFileTest.h")
add_dependencies(netFromFileTest DGM VIS)

source_group("Source Files" FILES "netFromFileTest.h" "netFromFileTest.cpp")

set_target_properties(netFromFileTest PROPERTIES PROJECT_LABEL "netFromFileTest")						# in Visual Studio
set_target_properties(netFromFileTest PROPERTIES OUTPUT_NAME "netFromFileTest")
set_target_properties(netFromFileTest PROPERTIES FOLDER "netTest")

# Properties->Linker->Input->Additional Dependencies
target_link_libraries(netFromFileTest ${OpenCV_LIBS} ${DGM_LIB} ${VIS_LIB})

#install
install(TARGETS netFromFileTest RUNTIME DESTINATION ${CMAKE_INSTALL_PREFIX}/bin)
